<!DOCTYPE html>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile">
    <meta charset="UTF-8">
    <meta name="description" content="Port67">
    <meta name="author" content="Patrick Dougherty">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="/css/structure.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <nav>
            <a id="beacon" href="/">
                <div id="home-text"> Port67 </div>
            </a>
        </nav>
    </header>

    <div id="page">
        <div class="wrapper">
            <div class="masthead">
                <span class="title">
                    C Main
                </span>
            </div>
        </div>

        <article class="post">
            <p><span class="sentence">Here is the starting point for most of the C programs we are going to write,</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">int</span> argc<span class="op">,</span> <span class="dt">char</span><span class="op">**</span> argv<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><span class="sentence">Stepping through this program, we start with <code>int</code> which indicates that we are going to return an integer at the end of our program.</span> <span class="sentence">When we compile and run our program in the terminal, we can see the integer that was returned.</span> <span class="sentence">Assuming your C program is named <code>test.c</code>,</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cc test.c</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./a.out</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> echo <span class="va">$?</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span></code></pre></div>
<p><span class="sentence">Next, we have <code>main</code>.</span> <span class="sentence">When you run a C program, it starts by finding the function named <code>main</code> and then executing the code inside.</span></p>
<p><span class="sentence"><code>main</code> traditionally has two “arguments” or “inputs”.</span> <span class="sentence">The first is an <code>int</code> named <code>argc</code> for “argument count”.</span> <span class="sentence">The second is an array of <code>char*</code> named <code>argv</code> for “argument vector”.</span> <span class="sentence">We’ll come back to <code>char**</code> in a bit because we don’t have to tools to explain it yet.</span> <span class="sentence">But, conceptually, <code>argc</code> and <code>argv</code> correspond to the count and value of the arguments passed into the program from the command line.</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./a.out</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># argc = 1</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># argv[0] = ./a.out</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./a.out arg1 arg2</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># argc = 3</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># argv[0] = ./a.out</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># argv[1] = arg1</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># argv[2] = arg2</span></span></code></pre></div>
<p><span class="sentence">After the <code>argc</code> and <code>argv</code> arguments comes an opening brace <code>{</code>.</span> <span class="sentence">Everything from <code>{</code> to its matching close brace <code>}</code> is called the “body” of the function.</span> <span class="sentence">The body contains the code that gets executed whenever the function is run.</span></p>
<p><span class="sentence">In our case, the body of <code>main</code> is just <code>return 0</code>.</span> <span class="sentence"><code>return</code> stops execution of the body and sends the value out of the function.</span> <span class="sentence">The value returned from <code>main</code> is often called the “return code” or “exit code” of the program because it is the final result of executing the program.</span> <span class="sentence">Once a value is returned from <code>main</code>, the program is complete.</span></p>
<p><span class="sentence">Finally, we have the closing <code>}</code> to indicate the end of the <code>main</code> function.</span></p>
            <br>
            <br>
            <section class="table-of-contents">
                <ol>
                </ol>
            </section>
        </article>
    </div>

    <footer>
        <hr>
        <div class="links">
          <p>
            ©
            <a href="mailto:patrick.doc@port67.org">Patrick Dougherty</a>
            -
            <a href="https://github.com/patrickdoc/port67">source</a>
          </p>
        </div>
    </footer>
    
    <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">
</body>
</html>
